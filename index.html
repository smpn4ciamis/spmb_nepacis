<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pengumuman PPDB SMPN 4 Ciamis 2025</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    @keyframes bounceIn {
      0% { opacity: 0; transform: scale(0.7); }
      50% { opacity: 1; transform: scale(1.1); }
      100% { opacity: 1; transform: scale(1); }
    }
    @keyframes rotateIn {
      0% { opacity: 0; transform: rotate(0deg) scale(0.8); }
      100% { opacity: 1; transform: rotate(360deg) scale(1); }
    }
    .bounce-in {
      animation: bounceIn 0.6s ease-out forwards;
    }
    .rotate-in {
      animation: rotateIn 1s ease-out forwards;
    }
    .hover-scale:hover {
      transform: scale(1.05) rotate(2deg);
      transition: transform 0.3s ease;
    }
    .status-icon {
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    .bg-gradient-result {
      background: linear-gradient(135deg, #d1fae5, #dbeafe);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
      transform: perspective(1000px) rotateX(5deg);
    }
    .glow-button:hover {
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
    }
    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 50%;
      animation: float 10s infinite linear;
      z-index: 0;
    }
    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-100vh); }
      100% { transform: translateY(0); }
    }
    body {
      overflow-x: hidden; /* Prevent horizontal scroll */
      overflow-y: auto; /* Allow vertical scroll */
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-100 to-indigo-200 font-sans min-h-screen">
  <!-- Particles Background -->
  <div id="particles" class="fixed inset-0"></div>

  <!-- Header -->
  <header class="bg-blue-800 text-white py-12 relative overflow-hidden">
    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-30"></div>
    <div class="container mx-auto px-4 text-center relative z-10">
      <img src="logo.png" alt="Logo SMPN 4 Ciamis" class="w-24 h-24 mx-auto mb-4 rotate-in">
      <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight">Pengumuman PPDB SMPN 4 Ciamis 2025</h1>
      <p class="mt-4 text-lg md:text-xl">Cek hasil penerimaan peserta didik baru dengan semangat!</p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-12 relative z-10">
    <!-- Search Section -->
    <section class="bg-white rounded-2xl shadow-2xl p-8 mb-12 max-w-4xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-center text-gray-800">Cari Status Pendaftaran</h2>
      <div class="flex flex-col md:flex-row gap-4">
        <input
          type="text"
          id="searchInput"
          placeholder="Masukkan ID Pendaftaran, NISN, atau Nama"
          class="border-2 border-gray-300 rounded-lg px-5 py-3 flex-1 focus:outline-none focus:ring-2 focus:ring-blue-600 transition text-lg"
        >
        <button
          onclick="searchResult()"
          class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-800 glow-button transition flex items-center text-lg"
        >
          <i data-feather="search" class="w-6 h-6 mr-2"></i>Cari Hasil
        </button>
      </div>
    </section>

    <!-- Result Section -->
    <section id="resultSection" class="hidden max-w-4xl mx-auto">
      <div id="resultCard" class="bg-white rounded-2xl p-10 bounce-in hover-scale bg-gradient-result"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-8 relative z-10">
    <div class="container mx-auto px-4 text-center">
      <p>Â© 2025 SMPN 4 Ciamis. All rights reserved.</p>
      <p class="mt-3">Kontak: <a href="mailto:info@smpn4ciamis.sch.id" class="underline hover:text-blue-300">info@smpn4ciamis.sch.id</a></p>
    </div>
  </footer>

  <script>
    // Sample data for demonstration
    const announcements = [
      { id: "PPDB001", nisn: "1234567890", name: "Ahmad Fauzi", status: "accepted", message: "Selamat! Anda diterima di SMPN 4 Ciamis untuk tahun ajaran 2025/2026. Segera lakukan daftar ulang di sekolah sesuai jadwal!" },
      { id: "PPDB002", nisn: "0987654321", name: "Siti Nurhaliza", status: "rejected", message: "Maaf, Anda belum diterima di SMPN 4 Ciamis. Jangan putus asa, banyak sekolah lain di Ciamis menanti potensimu!" },
      { id: "PPDB003", nisn: "1122334455", name: "Budi Santoso", status: "accepted", message: "Selamat! Anda diterima di SMPN 4 Ciamis untuk tahun ajaran 2025/2026. Segera lakukan daftar ulang di sekolah sesuai jadwal!" },
      { id: "PPDB004", nisn: "6677889900", name: "Rina Amelia", status: "rejected", message: "Maaf, Anda belum diterima di SMPN 4 Ciamis. Tetap semangat, coba jalur prestasi atau sekolah lain di Ciamis!" },
    ];

    // Function to create particles
    function createParticles() {
      const particlesContainer = document.getElementById("particles");
      for (let i = 0; i < 20; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.width = `${Math.random() * 5 + 5}px`;
        particle.style.height = particle.style.width;
        particle.style.left = `${Math.random() * 100}vw`;
        particle.style.top = `${Math.random() * 100}vh`;
        particle.style.animationDelay = `${Math.random() * 5}s`;
        particlesContainer.appendChild(particle);
      }
    }

    // Function to trigger confetti for accepted status
    function triggerConfetti() {
      confetti({
        particleCount: 150,
        spread: 80,
        origin: { y: 0.5 },
        colors: ['#22c55e', '#10b981', '#4ade80', '#fef08a'],
        scalar: 1.2,
        drift: 1
      });
    }

    // Function to search and display result
    function searchResult() {
      const searchInput = document.getElementById("searchInput").value.toLowerCase();
      const resultSection = document.getElementById("resultSection");
      const resultCard = document.getElementById("resultCard");

      // Find matching result
      const result = announcements.find(item => 
        item.id.toLowerCase() === searchInput ||
        item.nisn.toLowerCase() === searchInput ||
        item.name.toLowerCase() === searchInput
      );

      // Display result
      resultSection.classList.remove("hidden");
      if (result) {
        resultCard.className = `bg-white rounded-2xl p-10 bounce-in hover-scale bg-gradient-result border-l-8 ${result.status === "accepted" ? "border-green-500" : "border-red-500"}`;
        resultCard.innerHTML = `
          <div class="flex items-center mb-6">
            <i data-feather="${result.status === "accepted" ? "check-circle" : "x-circle"}" class="w-12 h-12 ${result.status === "accepted" ? "text-green-500" : "text-red-500"} status-icon mr-4"></i>
            <h3 class="text-3xl font-bold text-gray-800">${result.name}</h3>
          </div>
          <p class="text-gray-600 text-lg">No. Pendaftaran: ${result.id}</p>
          <p class="text-gray-600 text-lg">NISN: ${result.nisn}</p>
          <p class="mt-4 text-2xl font-semibold ${result.status === "accepted" ? "text-green-600" : "text-red-600"}">
            Status: ${result.status === "accepted" ? "Diterima" : "Tidak Diterima"}
          </p>
          <p class="mt-3 text-gray-700 text-lg">${result.message}</p>
          ${result.status === "rejected" ? `
            <div class="mt-4 p-4 bg-blue-50 rounded-lg">
              <p class="text-blue-700 text-sm"><strong>Tips:</strong> Coba daftar ke SMP lain di Ciamis seperti SMPN 1 atau SMPN 2, atau ikuti jalur prestasi. Tetap semangat mengejar mimpimu!</p>
            </div>
          ` : ""}
          <a
            href="hasil_ppdb/${result.id}.pdf"
            target="_blank"
            class="mt-6 inline-flex items-center bg-${result.status === "accepted" ? "green" : "blue"}-600 text-white px-8 py-3 rounded-lg hover:bg-${result.status === "accepted" ? "green" : "blue"}-700 glow-button transition text-lg"
          >
            <i data-feather="download" class="w-6 h-6 mr-2"></i>Unduh Hasil (PDF)
          </a>
        `;
        if (result.status === "accepted") {
          setTimeout(triggerConfetti, 500); // Trigger confetti for accepted status
        }
      } else {
        resultCard.className = "bg-white rounded-2xl p-10 bounce-in hover-scale bg-gradient-result border-l-8 border-red-500";
        resultCard.innerHTML = `
          <div class="flex items-center mb-6">
            <i data-feather="alert-circle" class="w-12 h-12 text-red-500 status-icon mr-4"></i>
            <h3 class="text-3xl font-bold text-red-600">Data Tidak Ditemukan</h3>
          </div>
          <p class="text-gray-700 text-lg">Maaf, ID Pendaftaran, NISN, atau Nama yang Anda masukkan tidak ditemukan. Silakan periksa kembali input Anda.</p>
          <div class="mt-4 p-4 bg-blue-50 rounded-lg">
            <p class="text-blue-700 text-sm"><strong>Tips:</strong> Pastikan Anda memasukkan ID, NISN, atau Nama dengan benar, tanpa spasi tambahan.</p>
          </div>
        `;
      }
      // Re-initialize Feather Icons
      feather.replace();
    }

    // Initialize particles and Feather Icons
    createParticles();
    feather.replace();
  </script>
</body>
</html>
